/*!
 * jQuery UI Position @VERSION
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./version"],a)}else{a(jQuery)}}(function(a){(function(){var i,j=Math.max,m=Math.abs,d=/left|center|right/,g=/top|center|bottom/,b=/[\+\-]\d+(\.[\d]+)?%?/,k=/^\w+/,c=/%$/,f=a.fn.position;function l(p,o,n){return[parseFloat(p[0])*(c.test(p[0])?o/100:1),parseFloat(p[1])*(c.test(p[1])?n/100:1)]}function h(n,o){return parseInt(a.css(n,o),10)||0}function e(o){var n=o[0];if(n.nodeType===9){return{width:o.width(),height:o.height(),offset:{top:0,left:0}}}if(a.isWindow(n)){return{width:o.width(),height:o.height(),offset:{top:o.scrollTop(),left:o.scrollLeft()}}}if(n.preventDefault){return{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}}return{width:o.outerWidth(),height:o.outerHeight(),offset:o.offset()}}a.position={scrollbarWidth:function(){if(i!==undefined){return i}var o,n,q=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),p=q.children()[0];a("body").append(q);o=p.offsetWidth;q.css("overflow","scroll");n=p.offsetWidth;if(o===n){n=q[0].clientWidth}q.remove();return(i=o-n)},getScrollInfo:function(r){var q=r.isWindow||r.isDocument?"":r.element.css("overflow-x"),p=r.isWindow||r.isDocument?"":r.element.css("overflow-y"),o=q==="scroll"||(q==="auto"&&r.width<r.element[0].scrollWidth),n=p==="scroll"||(p==="auto"&&r.height<r.element[0].scrollHeight);return{width:n?a.position.scrollbarWidth():0,height:o?a.position.scrollbarWidth():0}},getWithinInfo:function(p){var q=a(p||window),n=a.isWindow(q[0]),r=!!q[0]&&q[0].nodeType===9,o=!n&&!r;return{element:q,isWindow:n,isDocument:r,offset:o?a(p).offset():{left:0,top:0},scrollLeft:q.scrollLeft(),scrollTop:q.scrollTop(),width:q.outerWidth(),height:q.outerHeight()}}};a.fn.position=function(x){if(!x||!x.of){return f.apply(this,arguments)}x=a.extend({},x);var y,u,s,w,r,n,t=a(x.of),q=a.position.getWithinInfo(x.within),o=a.position.getScrollInfo(q),v=(x.collision||"flip").split(" "),p={};n=e(t);if(t[0].preventDefault){x.at="left top"}u=n.width;s=n.height;w=n.offset;r=a.extend({},w);a.each(["my","at"],function(){var B=(x[this]||"").split(" "),A,z;if(B.length===1){B=d.test(B[0])?B.concat(["center"]):g.test(B[0])?["center"].concat(B):["center","center"]}B[0]=d.test(B[0])?B[0]:"center";B[1]=g.test(B[1])?B[1]:"center";A=b.exec(B[0]);z=b.exec(B[1]);p[this]=[A?A[0]:0,z?z[0]:0];x[this]=[k.exec(B[0])[0],k.exec(B[1])[0]]});if(v.length===1){v[1]=v[0]}if(x.at[0]==="right"){r.left+=u}else{if(x.at[0]==="center"){r.left+=u/2}}if(x.at[1]==="bottom"){r.top+=s}else{if(x.at[1]==="center"){r.top+=s/2}}y=l(p.at,u,s);r.left+=y[0];r.top+=y[1];return this.each(function(){var A,J,C=a(this),E=C.outerWidth(),B=C.outerHeight(),D=h(this,"marginLeft"),z=h(this,"marginTop"),I=E+D+h(this,"marginRight")+o.width,H=B+z+h(this,"marginBottom")+o.height,F=a.extend({},r),G=l(p.my,C.outerWidth(),C.outerHeight());if(x.my[0]==="right"){F.left-=E}else{if(x.my[0]==="center"){F.left-=E/2}}if(x.my[1]==="bottom"){F.top-=B}else{if(x.my[1]==="center"){F.top-=B/2}}F.left+=G[0];F.top+=G[1];A={marginLeft:D,marginTop:z};a.each(["left","top"],function(L,K){if(a.ui.position[v[L]]){a.ui.position[v[L]][K](F,{targetWidth:u,targetHeight:s,elemWidth:E,elemHeight:B,collisionPosition:A,collisionWidth:I,collisionHeight:H,offset:[y[0]+G[0],y[1]+G[1]],my:x.my,at:x.at,within:q,elem:C})}});if(x.using){J=function(N){var P=w.left-F.left,M=P+u-E,O=w.top-F.top,L=O+s-B,K={target:{element:t,left:w.left,top:w.top,width:u,height:s},element:{element:C,left:F.left,top:F.top,width:E,height:B},horizontal:M<0?"left":P>0?"right":"center",vertical:L<0?"top":O>0?"bottom":"middle"};if(u<E&&m(P+M)<u){K.horizontal="center"}if(s<B&&m(O+L)<s){K.vertical="middle"}if(j(m(P),m(M))>j(m(O),m(L))){K.important="horizontal"}else{K.important="vertical"}x.using.call(this,N,K)}}C.offset(a.extend(F,{using:J}))})};a.ui.position={fit:{left:function(r,q){var p=q.within,t=p.isWindow?p.scrollLeft:p.offset.left,v=p.width,s=r.left-q.collisionPosition.marginLeft,u=t-s,o=s+q.collisionWidth-v-t,n;if(q.collisionWidth>v){if(u>0&&o<=0){n=r.left+u+q.collisionWidth-v-t;r.left+=u-n}else{if(o>0&&u<=0){r.left=t}else{if(u>o){r.left=t+v-q.collisionWidth}else{r.left=t}}}}else{if(u>0){r.left+=u}else{if(o>0){r.left-=o}else{r.left=j(r.left-s,r.left)}}}},top:function(q,p){var o=p.within,u=o.isWindow?o.scrollTop:o.offset.top,v=p.within.height,s=q.top-p.collisionPosition.marginTop,t=u-s,r=s+p.collisionHeight-v-u,n;if(p.collisionHeight>v){if(t>0&&r<=0){n=q.top+t+p.collisionHeight-v-u;q.top+=t-n}else{if(r>0&&t<=0){q.top=u}else{if(t>r){q.top=u+v-p.collisionHeight}else{q.top=u}}}}else{if(t>0){q.top+=t}else{if(r>0){q.top-=r}else{q.top=j(q.top-s,q.top)}}}}},flip:{left:function(t,s){var r=s.within,x=r.offset.left+r.scrollLeft,A=r.width,p=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-s.collisionPosition.marginLeft,y=u-p,o=u+s.collisionWidth-A-p,w=s.my[0]==="left"?-s.elemWidth:s.my[0]==="right"?s.elemWidth:0,z=s.at[0]==="left"?s.targetWidth:s.at[0]==="right"?-s.targetWidth:0,q=-2*s.offset[0],n,v;if(y<0){n=t.left+w+z+q+s.collisionWidth-A-x;if(n<0||n<m(y)){t.left+=w+z+q}}else{if(o>0){v=t.left-s.collisionPosition.marginLeft+w+z+q-p;if(v>0||m(v)<o){t.left+=w+z+q}}}},top:function(s,r){var q=r.within,z=q.offset.top+q.scrollTop,A=q.height,n=q.isWindow?q.scrollTop:q.offset.top,u=s.top-r.collisionPosition.marginTop,w=u-n,t=u+r.collisionHeight-A-n,x=r.my[1]==="top",v=x?-r.elemHeight:r.my[1]==="bottom"?r.elemHeight:0,B=r.at[1]==="top"?r.targetHeight:r.at[1]==="bottom"?-r.targetHeight:0,p=-2*r.offset[1],y,o;if(w<0){o=s.top+v+B+p+r.collisionHeight-A-z;if(o<0||o<m(w)){s.top+=v+B+p}}else{if(t>0){y=s.top-r.collisionPosition.marginTop+v+B+p-n;if(y>0||m(y)<t){s.top+=v+B+p}}}}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}}})();return a.ui.position}));