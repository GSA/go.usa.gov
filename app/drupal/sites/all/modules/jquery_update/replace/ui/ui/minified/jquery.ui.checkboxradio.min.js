/*!
 * jQuery UI Checkboxradio @VERSION
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","../escape-selector","../form-reset-mixin","../labels","../widget"],a)}else{a(jQuery)}}(function(a){a.widget("ui.checkboxradio",[a.ui.formResetMixin,{version:"@VERSION",options:{disabled:null,label:null,icon:true,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var c,e;var d=this;var b=this._super()||{};this._readType();e=this.element.labels();this.label=a(e[e.length-1]);if(!this.label.length){a.error("No label found for checkboxradio widget")}this.originalLabel="";this.label.contents().not(this.element[0]).each(function(){d.originalLabel+=this.nodeType===3?a(this).text():this.outerHTML});if(this.originalLabel){b.label=this.originalLabel}c=this.element[0].disabled;if(c!=null){b.disabled=c}return b},_create:function(){var b=this.element[0].checked;this._bindFormResetHandler();if(this.options.disabled==null){this.options.disabled=this.element[0].disabled}this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");if(this.type==="radio"){this._addClass(this.label,"ui-checkboxradio-radio-label")}if(this.options.label&&this.options.label!==this.originalLabel){this._updateLabel()}else{if(this.originalLabel){this.options.label=this.originalLabel}}this._enhance();if(b){this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");if(this.icon){this._addClass(this.icon,null,"ui-state-hover")}}this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var b=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;if(b!=="input"||!/radio|checkbox/.test(this.type)){a.error("Can't create checkboxradio on element.nodeName="+b+" and element.type="+this.type)}},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var d;var b=this.element[0].name;var c="input[name='"+a.ui.escapeSelector(b)+"']";if(!b){return a([])}if(this.form.length){d=a(this.form[0].elements).filter(c)}else{d=a(c).filter(function(){return a(this).form().length===0})}return d.not(this.element)},_toggleClasses:function(){var b=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",b);if(this.options.icon&&this.type==="checkbox"){this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",b)._toggleClass(this.icon,null,"ui-icon-blank",!b)}if(this.type==="radio"){this._getRadioGroup().each(function(){var c=a(this).checkboxradio("instance");if(c){c._removeClass(c.label,"ui-checkboxradio-checked","ui-state-active")}})}},_destroy:function(){this._unbindFormResetHandler();if(this.icon){this.icon.remove();this.iconSpace.remove()}},_setOption:function(b,c){if(b==="label"&&!c){return}this._super(b,c);if(b==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",c);this.element[0].disabled=c;return}this.refresh()},_updateIcon:function(c){var b="ui-icon ui-icon-background ";if(this.options.icon){if(!this.icon){this.icon=a("<span>");this.iconSpace=a("<span> </span>");this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")}if(this.type==="checkbox"){b+=c?"ui-icon-check ui-state-checked":"ui-icon-blank";this._removeClass(this.icon,null,c?"ui-icon-blank":"ui-icon-check")}else{b+="ui-icon-blank"}this._addClass(this.icon,"ui-checkboxradio-icon",b);if(!c){this._removeClass(this.icon,null,"ui-icon-check ui-state-checked")}this.icon.prependTo(this.label).after(this.iconSpace)}else{if(this.icon!==undefined){this.icon.remove();this.iconSpace.remove();delete this.icon}}},_updateLabel:function(){var b=this.label.contents().not(this.element[0]);if(this.icon){b=b.not(this.icon[0])}if(this.iconSpace){b=b.not(this.iconSpace[0])}b.remove();this.label.append(this.options.label)},refresh:function(){var c=this.element[0].checked,b=this.element[0].disabled;this._updateIcon(c);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",c);if(this.options.label!==null){this._updateLabel()}if(b!==this.options.disabled){this._setOptions({disabled:b})}}}]);return a.ui.checkboxradio}));